# QA Environment Configuration
# Profile: qa

# MySQL Database Configuration (QA)
spring.datasource.url=jdbc:mysql://qa-db-server:3306/trust_db_qa?useSSL=true&requireSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
spring.datasource.username=qa_user
spring.datasource.password=qa_password
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Connection Pool Configuration (HikariCP) - QA
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.leak-detection-threshold=60000
spring.datasource.hikari.max-lifetime=1800000

# Logging Configuration - QA
logging.level.com.trustapp=INFO
logging.level.org.springframework.jdbc=WARN
logging.level.org.springframework.web=WARN
logging.level.org.hikari=WARN

# Flyway Configuration - QA
spring.flyway.clean-disabled=true

# CORS Configuration - QA (overrides base config)
# Uses environment variable with localhost fallback for testing
cors.allowed-origins=${ALLOWED_ORIGINS:http://localhost:4200,http://localhost:3000,https://localhost:4200,https://localhost:3000}
cors.allow-credentials=true

# Frontend URL Configuration - QA
app.frontend.url=${FRONTEND_URL:http://localhost:4200}

# Email Configuration - QA
# Use environment variables: MAIL_USERNAME, MAIL_PASSWORD
# spring.mail.host=${MAIL_HOST:smtp.qa.trustapp.com}
# spring.mail.port=${MAIL_PORT:587}
# spring.mail.username=${MAIL_USERNAME:qa@trustapp.com}
# spring.mail.password=${MAIL_PASSWORD:qa_mail_password}
# spring.mail.properties.mail.smtp.auth=true
# spring.mail.properties.mail.smtp.starttls.enable=true
